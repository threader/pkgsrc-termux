$NetBSD: patch-CVE-2016-10217,v 1.1 2017/04/18 22:07:07 tez Exp $

Patch for CVE-2016-10217 from
http://git.ghostscript.com/?p=ghostpdl.git;a=commitdiff;h=90fd0c7ca3efc1ddff64a86f4104b13b3ac969eb;hp=d621292fb2c8157d9899dcd83fd04dd250e30fe4
Patch for CVE-2016-10218 from
http://git.ghostscript.com/?p=ghostpdl.git;a=commitdiff;h=d621292fb2c8157d9899dcd83fd04dd250e30fe4;hp=4bef1a1d32e29b68855616020dbff574b9cda08f
(actually no patch, the null check was already in place!)


--- base/gdevp14.c.orig	2017-04-05 20:36:47.701597100 +0000
+++ base/gdevp14.c
@@ -1369,6 +1369,7 @@ pdf14_open(gx_device *dev)
     rect.p.y = 0;
     rect.q.x = dev->width;
     rect.q.y = dev->height;
+    if (pdev->ctx == NULL)
     pdev->ctx = pdf14_ctx_new(&rect, dev->color_info.num_components,
         pdev->color_info.polarity != GX_CINFO_POLARITY_SUBTRACTIVE, dev);
     if (pdev->ctx == NULL)
