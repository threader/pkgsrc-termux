$NetBSD: patch-ac,v 1.1 2008/06/21 20:59:32 joerg Exp $

--- server.c.orig	2004-11-12 22:51:23.000000000 +0000
+++ server.c
@@ -132,7 +132,7 @@ Generated by \
 #define REPHEADER HTTPOK\
 "Content-type: multipart/x-mixed-replace;boundary="BOUNDARY"\r\n"
 #define TYPEHEADER "Content-type: image/jpeg\r\n"
-#define LENHEADER  "Content-length: %d\r\n"
+#define LENHEADER  "Content-length: %zu\r\n"
 #define STATICHEADER HTTPOK""TYPEHEADER""LENHEADER"\r\n"
 #define STREAMHEADER TYPEHEADER""LENHEADER"\r\n"
 #define STREAMFOOTER "\r\n--"BOUNDARY"\r\n"
@@ -156,7 +156,7 @@ static size_t css_h_len  = 0;
 
 static int server_write(struct webcam *cam,
 								int d, const void *buf, size_t nbytes);
-static int read_line(int fd, char *ptr, ssize_t maxlen);
+static ssize_t read_line(int fd, char *ptr, ssize_t maxlen);
 static void read_client_msg(struct webcam *cam, struct client *cl);
 static void check_clients(struct webcam *cam);
 static void client_accept(struct webcam *cam);
