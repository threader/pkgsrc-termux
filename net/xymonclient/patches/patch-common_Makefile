$NetBSD: patch-common_Makefile,v 1.1 2017/09/28 10:40:35 spz Exp $

allow hardening

--- common/Makefile.orig	2014-01-19 12:17:56.000000000 +0000
+++ common/Makefile
@@ -28,40 +28,40 @@ all: $(PROGRAMS)
 client: $(CLIENTPROGRAMS)
 
 xymongrep: $(HOSTGREPOBJS) $(XYMONCOMMLIB) $(XYMONLIB)
-	$(CC) $(CFLAGS) -o $@ $(HOSTGREPOBJS) $(XYMONCOMMLIBS) $(XYMONLIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(HOSTGREPOBJS) $(XYMONCOMMLIBS) $(XYMONLIBS)
 
 ../client/xymongrep: $(HOSTGREPOBJS) $(XYMONCLIENTCOMMLIB) $(XYMONCLIENTLIB)
-	$(CC) $(CFLAGS) -o $@ $(HOSTGREPOBJS) $(XYMONCLIENTCOMMLIBS) $(XYMONCLIENTLIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(HOSTGREPOBJS) $(XYMONCLIENTCOMMLIBS) $(XYMONCLIENTLIBS)
 
 xymoncfg: $(HOSTSHOWOBJS) $(XYMONLIB)
-	$(CC) $(CFLAGS) -o $@ $(HOSTSHOWOBJS) $(XYMONLIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(HOSTSHOWOBJS) $(XYMONLIBS)
 
 ../client/xymoncfg: $(HOSTSHOWOBJS) $(XYMONCLIENTLIB)
-	$(CC) $(CFLAGS) -o $@ $(HOSTSHOWOBJS) $(XYMONCLIENTLIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(HOSTSHOWOBJS) $(XYMONCLIENTLIBS)
 
 xymon: $(XYMONOBJS) $(XYMONCOMMLIB) $(XYMONLIB)
-	$(CC) $(CFLAGS) -o $@ $(XYMONOBJS) $(XYMONCOMMLIBS) $(XYMONLIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(XYMONOBJS) $(XYMONCOMMLIBS) $(XYMONLIBS)
 
 ../client/xymon: $(XYMONOBJS) $(XYMONCLIENTCOMMLIB) $(XYMONCLIENTLIB)
-	$(CC) $(CFLAGS) -o $@ $(XYMONOBJS) $(XYMONCLIENTCOMMLIBS) $(XYMONCLIENTLIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(XYMONOBJS) $(XYMONCLIENTCOMMLIBS) $(XYMONCLIENTLIBS)
 
 xymonlaunch: $(LAUNCHOBJS) $(XYMONTIMELIB) $(XYMONLIB)
-	$(CC) $(CFLAGS) -o $@ $(LAUNCHOBJS) $(XYMONTIMELIBS) $(XYMONLIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(LAUNCHOBJS) $(XYMONTIMELIBS) $(XYMONLIBS)
 
 ../client/xymonlaunch: $(LAUNCHOBJS) $(XYMONTIMELIB) $(XYMONCLIENTLIB)
-	$(CC) $(CFLAGS) -o $@ $(LAUNCHOBJS) $(XYMONTIMELIBS) $(XYMONCLIENTLIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(LAUNCHOBJS) $(XYMONTIMELIBS) $(XYMONCLIENTLIBS)
 
 xymoncmd: $(CMDOBJS) $(XYMONLIB)
-	$(CC) $(CFLAGS) -o $@ $(CMDOBJS) $(XYMONLIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(CMDOBJS) $(XYMONLIBS)
 
 ../client/xymoncmd: $(CMDOBJS) $(XYMONCLIENTLIB)
-	$(CC) $(CFLAGS) -o $@ $(CMDOBJS) $(XYMONCLIENTLIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(CMDOBJS) $(XYMONCLIENTLIBS)
 
 xymondigest: $(DIGESTOBJS) $(XYMONLIB)
-	$(CC) $(CFLAGS) -o $@ $(DIGESTOBJS) $(XYMONCOMMLIBS) $(XYMONLIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(DIGESTOBJS) $(XYMONCOMMLIBS) $(XYMONLIBS)
 
 ../client/xymondigest: $(DIGESTOBJS) $(XYMONCLIENTCOMMLIB) $(XYMONCLIENTLIB)
-	$(CC) $(CFLAGS) -o $@ $(DIGESTOBJS) $(XYMONCLIENTCOMMLIBS) $(XYMONCLIENTLIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(DIGESTOBJS) $(XYMONCLIENTCOMMLIBS) $(XYMONCLIENTLIBS)
 
 
 xymon.exe: xymon.c ../lib/strfunc.c ../lib/errormsg.c ../lib/environ.c ../lib/stackio.c ../lib/timefunc.c ../lib/memory.c ../lib/sendmsg.c ../lib/holidays.c ../lib/rbtr.c ../lib/msort.c
